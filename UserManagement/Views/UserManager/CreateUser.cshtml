@model UserManagement.UserManager.AuthModels.ApplicationUser
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<br /><br />
<div class="container">
    <div class="row">
    <div class="col-md-4">
        @if (TempData["Message"] != null)
        {
            <h3 style="color:red">@TempData["Message"]</h3>
        }
        else
        {
            <br /><br />
        }
        <form id="registerForm" asp-action="CreateUser" method="post" enctype="multipart/form-data">
            <h2>Create a new account.</h2>
            <hr />
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-floating">
                <input asp-for="FirstName" class="form-control" autocomplete="firstname" aria-required="true" required/>
                <label style="color:black" asp-for="FirstName"></label>
                <span asp-validation-for="FirstName" class="text-danger"></span>
            </div>
            <br />
            <div class="form-floating">
                <input asp-for="LastName" class="form-control" autocomplete="firstname" aria-required="true" required/>
                <label style="color:black" asp-for="LastName"></label>
                <span asp-validation-for="LastName" class="text-danger"></span>
            </div>
            <br />
            <div class="form-floating">
                <input type="email" asp-for="Email" class="form-control" autocomplete="username" aria-required="true" required/>
                <label style="color:black" asp-for="Email"></label>
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
             <br />
              <div class="form-floating">
                <input type="password" asp-for="PasswordHash" class="form-control" autocomplete="username" aria-required="true" required/>
                <label style="color:black">Password</label>
                <span asp-validation-for="PasswordHash" class="text-danger"></span>
            </div>
             <br />
             <div class="form-check form-switch">
                <input asp-for="EmailConfirmed" class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
                <label class="form-check-label" for="flexSwitchCheckDefault">Make as Active</label>
            </div>
            <br />
             <div class="form-group">
                <label class="control-label">Roles</label>
                <select required name="roleId" class ="form-control" asp-items="ViewBag.Roles"></select>
            </div>
            <br />
            <div class="form-group">
                <label>User Image</label>
                <input 
                    id="txtFile" 
                    type="file" 
                    name="file" 
                    value="Upload Image" 
                    accept=".png,.jpg,.jpeg" 
                    class="form-control"
                    />
            </div>
            <br />
            <button id="registerSubmit" type="submit" class="w-100 btn btn-lg btn-primary">Register</button>
        </form>
        
    </div>
    <div class="col-6" style="margin-top:20%;">
        <div>
            <img id="imgViewer" style="border:1px solid #000000; width:320px; height:320px; margin-left:175px;" />
        </div>
    </div>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
        $(document).ready(function () {
        });
        $("#txtFile").change(function (event) {
            var files = event.target.files;
            $("#imgViewer").attr("src", window.URL.createObjectURL(files[0]));
        });
</script>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}